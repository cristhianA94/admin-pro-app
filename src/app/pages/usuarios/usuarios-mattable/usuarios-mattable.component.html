<div class="row animated fadeIn">
    <div class="col-12">
        <input type="text" (keyup)="applyFilter($event)" class="form-control" placeholder="Buscar usuario...">
    </div>
</div>

<hr>

<div class="row animated fadeIn" *ngIf="cargando">
    <div class="col-sm-12">
        <div class="animated fadeIn m-4 alert alert-warning" align="center">
            <strong>Cargando</strong>
            <mat-spinner color="primary"></mat-spinner>
            <span>Espere por favor</span>
        </div>
    </div>
</div>

<!-- Tabla Material -->
<div class="mat-elevation-z8 ">
    <table mat-table [dataSource]="dataSource" matSort>

        <!-- Img Column -->
        <ng-container matColumnDef="Imagen">
            <th mat-header-cell *matHeaderCellDef> Imagen </th>
            <td mat-cell *matCellDef="let usuario ">
                <img [src]="usuario.img | imagen " alt="Img usuario" class="img-circle pointer w-50">
            </td>
        </ng-container>

        <!-- Email Column -->
        <ng-container matColumnDef="Email">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Email </th>
            <td mat-cell *matCellDef="let usuario "> {{usuario.email}} </td>
        </ng-container>

        <!-- Nombres Column -->
        <ng-container matColumnDef="Nombres">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Nombres </th>
            <td mat-cell *matCellDef="let usuario "> {{usuario.nombres}} {{usuario.apellidos}} </td>
        </ng-container>

        <!-- Rol Column -->
        <ng-container matColumnDef="Rol">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Rol </th>
            <td mat-cell *matCellDef="let usuario ">
                <select [(ngModel)]="usuario.role" name="role" class="form-control">
                    <option value="ADMIN_ROLE">ADMIN_ROLE</option>
                    <option value="USER_ROLE">USER_ROLE</option>
                </select>
            </td>
        </ng-container>

        <!-- Auth Column -->
        <ng-container matColumnDef="Auth">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Auth </th>

            <td mat-cell *matCellDef="let usuario ">
                <label *ngIf="usuario.google " class="label label-danger ">Google</label>
                <label *ngIf="!usuario.google " class="label label-info ">Normal</label>
        </ng-container>

        <!-- Action Column -->
        <ng-container matColumnDef="Acción">
            <th mat-header-cell *matHeaderCellDef> Acción </th>
            <td mat-cell *matCellDef="let usuario " class="action-link ">
                <button type="button " (click)="openDialog( 'Update',usuario) " class="btn btn-info btn-circle "><i
            class="fa fa-edit "></i> </button>
                <br>
                <button type="button " (click)="openDialog( 'Delete',usuario) " class="btn btn-info btn-circle "><i
            class="mdi mdi-delete "></i> </button>
            </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns "></tr>
        <tr mat-row *matRowDef="let usuario; columns: displayedColumns; " (click)=" onRowClicked(usuario) ">
        </tr>
    </table>

    <mat-paginator [pageSizeOptions]=" [5, 10, 15, 20, 25, 30] "></mat-paginator>
</div>